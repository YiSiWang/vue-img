"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};void function(){var e={};e.cdn="//fuss10.elemecdn.com",void function(){var n=document.domain,o=["test","alpha","beta"];o.forEach(function(o){var t=o+".elenet.me";n.match(t)&&(e.cdn="//fuss."+t)})}(),e.canWebp=!1,void function(){var n=new Image;n.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA==",n.onload=function(){e.canWebp=!0}}();var n=function(e){return(e+"").replace(/^(\w)(\w\w)(\w{29}(\w*))$/,"/$1/$2/$3.$4")},o=function(e){if(!e)return"";var n=e.indexOf("*"),o="thumbnail/";if(-1===n)o+=e+"x/";else{var t=e.slice(0,n)+"x"+e.slice(n+1);o+="!"+t+"r/gravity/Center/crop/"+t+"/"}return o};e.install=function(t,r){var i="string"==typeof r.prefix?r.prefix:e.cdn,c=r.quality<=100?r.quality:75,A="?imageMogr/quality/"+c+"/format/";t.directive("img",{bind:function(){this.el.src=r.loading},update:function(t){var c=this;if(t){var f=e.canWebp?"webp/":"jpg/",a=i+n(t)+A+f+o(this.arg),u=new Image;u.src=a,u.onload=function(){c.el.src=a},r.error&&(u.onerror=function(){c.el.src=r.error})}}})},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.VueImg=e)}();