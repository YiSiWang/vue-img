"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};void function(){var e={};e.cdn="//fuss10.elemecdn.com",void function(){var n=document.domain,t=["test","alpha","beta"];t.forEach(function(t){var o=t+".elenet.me";n.match(o)&&(e.cdn="//fuss."+o)})}(),e.canWebp=!1,void function(){var n=new Image;n.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA==",n.onload=function(){e.canWebp=!0}}();var n=function(e){return(e+"").replace(/^(\w)(\w\w)(\w{29}(\w*))$/,"/$1/$2/$3.$4")},t=function(e){var n=e.indexOf("*"),t=void 0,o=void 0;return-1===n?t=o=e:(t=e.slice(0,n),o=e.slice(n+1)),{width:t,height:o}};e.install=function(o,i){var r="string"==typeof i.prefix?i.prefix:e.cdn;o.directive("img",{acceptStatement:!0,bind:function(){this.el.src=i.loading},update:function(o){var c=this;if(o){var A=t(this.arg),f=r+n(o),a=e.canWebp?f+"?imageMogr/thumbnail/"+A.width+"x"+A.height+"/format/webp/quality/75":f+"?w="+A.width+"&h="+A.height,u=new Image;u.src=a,u.onload=function(){c.el.src=a},i.error&&(u.onerror=function(){c.el.src=i.error})}}})},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.VueImg=e)}();