"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};void function(){var e={};e.cdn="//fuss10.elemecdn.com",void function(){var n=document.domain,t=["test","alpha","beta"];t.forEach(function(t){var o=t+".elenet.me";n.match(o)&&(e.cdn="//fuss."+o)})}(),e.canWebp=!1,void function(){var n=new Image;n.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA==",n.onload=function(){e.canWebp=!0}}(),e.toPath=function(e){return(e+"").replace(/^(\w)(\w\w)(\w{29}(\w*))$/,"/$1/$2/$3.$4")},e.install=function(n,t){var o="string"==typeof t.prefix?t.prefix:e.cdn,i=t.quality<=100?t.quality:75,r=function(e){if(!e)return"";var n=e.indexOf("*"),t="thumbnail/";if(-1===n)t+=e+"x/";else{var o=e.slice(0,n)+"x"+e.slice(n+1);t+="!"+o+"r/gravity/Center/crop/"+o+"/"}return t};n.directive("img",{bind:function(){this.el.src=t.loading},update:function(n){var c=this;if(n){var A=e.canWebp?"webp":"jpg",a="?imageMogr/quality/"+i+"/format/"+A+"/"+r(this.arg),f=o+e.toPath(n)+a,u=new Image;u.src=f,u.onload=function(){c.el.src=f},t.error&&(u.onerror=function(){c.el.src=t.error})}}})},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.VueImg=e)}();