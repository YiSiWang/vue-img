"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};void function(){var e={};e.cdn="//fuss10.elemecdn.com",void function(){var n=document.domain,t=["test","alpha","beta"];t.forEach(function(t){var o=t+".elenet.me";n.match(o)&&(e.cdn="//fuss."+o)})}(),e.canWebp=!1,void function(){var n=new Image;n.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA==",n.onload=function(){e.canWebp=!0}}();var n=function(e){return(e+"").replace(/^(\w)(\w\w)(\w{29}(\w*))$/,"/$1/$2/$3.$4")},t=function(n){var t="?imageMogr/quality/75/",o=e.canWebp?"format/webp/":"format/jpg/";if("string"!=typeof n)return t+=o;var r=n.indexOf("*");if(-1===r)t+=o+"thumbnail/"+n+"x/";else{var i=n.slice(0,r)+"x"+n.slice(r+1);t+=o+"thumbnail/!"+i+"r/gravity/Center/crop/"+i+"/"}return t};e.install=function(o,r){var i="string"==typeof r.prefix?r.prefix:e.cdn;o.directive("img",{acceptStatement:!0,bind:function(){this.el.src=r.loading},update:function(e){var o=this;if(e){var c=i+n(e)+t(this.arg),a=new Image;a.src=c,a.onload=function(){o.el.src=c},r.error&&(a.onerror=function(){o.el.src=r.error})}}})},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.VueImg=e)}();